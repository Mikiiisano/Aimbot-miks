local aimbotEnabled = false
local menuVisible = false
local accuracy = 1
local aimSpeed = 0.1

-- Crear interfaz gráfica (GUI)
local ScreenGui = Instance.new("ScreenGui")
local ToggleButton = Instance.new("TextButton")
local MenuFrame = Instance.new("Frame")
local CloseButton = Instance.new("TextButton")
local AccuracySlider = Instance.new("TextButton")
local AimSpeedSlider = Instance.new("TextButton")

-- Configuración de los elementos de la GUI
ScreenGui.Name = "AimbotGUI"
ScreenGui.Parent = game.CoreGui

ToggleButton.Name = "ToggleButton"
ToggleButton.Parent = ScreenGui
ToggleButton.Text = "Aimbot"
ToggleButton.Size = UDim2.new(0, 100, 0, 50)

-- Función para el aimbot
local function aimbot()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

    while aimbotEnabled do
        wait(aimSpeed)
        local closestPlayer = nil
        local shortestDistance = math.huge

        -- Encontrar el jugador más cercano
        for _, target in ipairs(game.Players:GetPlayers()) do
            if target ~= player and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
                local distance = (humanoidRootPart.Position - target.Character.HumanoidRootPart.Position).magnitude
                if distance < shortestDistance then
                    shortestDistance = distance
                    closestPlayer = target
                end
            end
        end

        if closestPlayer then
            local targetPosition = closestPlayer.Character.HumanoidRootPart.Position + Vector3.new(0, 1.5, 0) -- Ajustar altura
            local direction = (targetPosition - humanoidRootPart.Position).unit
            -- Predecir movimiento del jugador
            local prediction = closestPlayer.Character.HumanoidRootPart.Velocity * accuracy
            local newPosition = targetPosition + prediction

            -- Rotar la cámara hacia el nuevo objetivo
            workspace.CurrentCamera.CFrame = CFrame.new(workspace.CurrentCamera.CFrame.Position, newPosition)
        end
    end
end

-- Evento para alternar el aimbot
ToggleButton.MouseButton1Click:Connect(function()
    aimbotEnabled = not aimbotEnabled
    if aimbotEnabled then
        aimbot()
    end
end)

-- Menú y controles adicionales para ajustar la precisión y velocidad
MenuFrame.Name = "MenuFrame"
MenuFrame.Parent = ScreenGui
MenuFrame.Size = UDim2.new(0, 200, 0, 300)
MenuFrame.Position = UDim2.new(0.5, -100, 0.5, -150)
MenuFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
MenuFrame.Visible = false

CloseButton.Name = "CloseButton"
CloseButton.Parent = MenuFrame
CloseButton.Text = "Cerrar"
CloseButton.Size = UDim2.new(0, 50, 0, 50)

AccuracySlider.Name = "AccuracySlider"
AccuracySlider.Parent = MenuFrame
AccuracySlider.Text = "Precisión: " .. accuracy
AccuracySlider.Size = UDim2.new(0, 150, 0, 50)

AimSpeedSlider.Name = "AimSpeedSlider"
AimSpeedSlider.Parent = MenuFrame
AimSpeedSlider.Text = "Velocidad de Aimbot: " .. aimSpeed
AimSpeedSlider.Size = UDim2.new(0, 150, 0, 50)

CloseButton.MouseButton1Click:Connect(function()
    menuVisible = false
    MenuFrame.Visible = false
end)

ToggleButton.MouseButton2Click:Connect(function()
    menuVisible = not menuVisible
    MenuFrame.Visible = menuVisible
end)

-- Control de la barra de precisión
AccuracySlider.MouseButton1Click:Connect(function()
    accuracy = math.clamp(accuracy + 0.1, 0, 1)
    AccuracySlider.Text = "Precisión: " .. accuracy
end)

-- Control de la barra de velocidad
AimSpeedSlider.MouseButton1Click:Connect(function()
    aimSpeed = math.clamp(aimSpeed + 0.1, 0.1, 5)
    AimSpeedSlider.Text = "Velocidad de Aimbot: " .. aimSpeed
end)
